<!doctype html>
<html lang="id" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AE-TRAP</title>
    <meta name="theme-color" content="#050b1a" />

    <!-- Font (fix: ga tebel, Inter clean) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ====== Base + Theme (kentang friendly) ====== */
      :root {
        --bg0: #050b1a;
        --bg1: rgba(10, 20, 40, 0.6);
        --card: rgba(10, 18, 32, 0.55);
        --card2: rgba(10, 18, 32, 0.4);
        --stroke: rgba(255, 255, 255, 0.1);
        --stroke2: rgba(255, 255, 255, 0.16);
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.65);
        --muted2: rgba(255, 255, 255, 0.5);
        --shadow: 0 30px 120px rgba(0, 0, 0, 0.45);
        --radius: 22px;
        --radius2: 16px;
        --accent: #8bd2ff;
        --accent2: #7c5cff;
        --good: #59ffa8;
        --warn: #ffd36b;
        --bad: #ff6b8a;
        --blur: 18px;

        /* FIX FONT */
        --font: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans";
      }

      html[data-theme="light"] {
        --bg0: #f6f8ff;
        --bg1: rgba(240, 244, 255, 0.9);
        --card: rgba(255, 255, 255, 0.78);
        --card2: rgba(255, 255, 255, 0.62);
        --stroke: rgba(10, 20, 40, 0.1);
        --stroke2: rgba(10, 20, 40, 0.14);
        --text: rgba(10, 20, 40, 0.92);
        --muted: rgba(10, 20, 40, 0.65);
        --muted2: rgba(10, 20, 40, 0.5);
        --shadow: 0 30px 120px rgba(10, 20, 40, 0.12);
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: var(--font);
        background: var(--bg0);
        color: var(--text);
        overflow-x: hidden;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* ====== Smooth Aurora Background (blur biar ga “garis”) ====== */
      .aetrap-bg {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: -2;
        background: radial-gradient(900px 600px at 18% 18%, rgba(124, 92, 255, 0.33), transparent 55%),
          radial-gradient(900px 700px at 78% 22%, rgba(139, 210, 255, 0.28), transparent 60%),
          radial-gradient(800px 650px at 35% 78%, rgba(46, 255, 196, 0.1), transparent 60%),
          radial-gradient(900px 700px at 80% 80%, rgba(255, 205, 98, 0.12), transparent 62%),
          linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.22));
        filter: blur(22px) saturate(1.08);
        transform: translateZ(0);
      }

      .grid-overlay {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: -1;
        opacity: 0.18;
        background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
          linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
        background-size: 64px 64px;
        mask-image: radial-gradient(60% 55% at 50% 30%, black 0%, transparent 70%);
      }

      a {
        color: inherit;
        text-decoration: none;
      }
      button {
        font-family: inherit;
      }

      /* Leaflet dark/light compatibility (simple) */
      .leaflet-container {
        border-radius: var(--radius);
        border: 1px solid var(--stroke);
        box-shadow: var(--shadow);
      }
    </style>

    <script>
      // Theme init (anti flicker)
      (function () {
        try {
          var t = localStorage.getItem("aetrap_theme");
          if (t) document.documentElement.setAttribute("data-theme", t);
        } catch (e) {}
      })();
    </script>
  </head>

  <body>
    <div class="aetrap-bg"></div>
    <div class="grid-overlay"></div>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
